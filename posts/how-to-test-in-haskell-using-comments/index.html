<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 3.9.1"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-46712607-5', 'auto', {});
      
      
      
      
      
      }</script><title data-react-helmet="true">How to test in Haskell using comments? | Waqas Ali</title><meta data-react-helmet="true" name="description" content="If you want to easily test your functions in Haskell, you can do so by writing inputs and their expected responses right above your functions as comments. All you need is a package called doctest."/><meta data-react-helmet="true" property="og:title" content="How to test in Haskell using comments?"/><meta data-react-helmet="true" property="og:description" content="If you want to easily test your functions in Haskell, you can do so by writing inputs and their expected responses right above your functions as comments. All you need is a package called doctest."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="@totally_waqas"/><meta data-react-helmet="true" name="twitter:title" content="How to test in Haskell using comments?"/><meta data-react-helmet="true" name="twitter:description" content="If you want to easily test your functions in Haskell, you can do so by writing inputs and their expected responses right above your functions as comments. All you need is a package called doctest."/><link rel="icon" href="/favicon-32x32.png?v=0855c19ac37084f5bd606c9ac315034f" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=0855c19ac37084f5bd606c9ac315034f"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=0855c19ac37084f5bd606c9ac315034f"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=0855c19ac37084f5bd606c9ac315034f"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=0855c19ac37084f5bd606c9ac315034f"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=0855c19ac37084f5bd606c9ac315034f"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=0855c19ac37084f5bd606c9ac315034f"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=0855c19ac37084f5bd606c9ac315034f"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=0855c19ac37084f5bd606c9ac315034f"/><link as="script" rel="preload" href="/webpack-runtime-922b5bbfa7dce857329c.js"/><link as="script" rel="preload" href="/framework-ba1910d8232ea15ebfa3.js"/><link as="script" rel="preload" href="/app-2e5524648fbfd06f08c6.js"/><link as="script" rel="preload" href="/de71a805-2216a525fc2e81be2f39.js"/><link as="script" rel="preload" href="/commons-6080c2217ff257223705.js"/><link as="script" rel="preload" href="/component---src-templates-post-template-tsx-cf8df558f21563ec3dd7.js"/><link as="fetch" rel="preload" href="/page-data/posts/how-to-test-in-haskell-using-comments/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1534125217.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/735375095.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/959885344.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><style data-emotion-css="d6jcgn">html{line-height:1.15;-webkit-text-size-adjust:100%;}body{margin:0;}main{display:block;}h1{font-size:2em;margin:0.67em 0;}hr{box-sizing:content-box;height:0;overflow:visible;}pre{font-family:monospace,monospace;font-size:1em;}a{background-color:transparent;}abbr[title]{border-bottom:none;-webkit-text-decoration:underline;text-decoration:underline;-webkit-text-decoration:underline dotted;-webkit-text-decoration:underline dotted;text-decoration:underline dotted;}b,strong{font-weight:bolder;}code,kbd,samp{font-family:monospace,monospace;font-size:1em;}small{font-size:80%;}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline;}sub{bottom:-0.25em;}sup{top:-0.5em;}img{border-style:none;}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0;}button,input{overflow:visible;}button,select{text-transform:none;}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0;}fieldset{padding:0.35em 0.75em 0.625em;}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal;}progress{vertical-align:baseline;}textarea{overflow:auto;}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0;}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{-webkit-appearance:none !important;}input[type="number"]{-moz-appearance:textfield;}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px;}[type="search"]::-webkit-search-decoration{-webkit-appearance:none !important;}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit;}details{display:block;}summary{display:list-item;}template{display:none;}[hidden]{display:none !important;}html{box-sizing:border-box;font-family:sans-serif;}*,*::before,*::after{box-sizing:border-box;}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0;}button{background:transparent;padding:0;}fieldset{margin:0;padding:0;}ol,ul{margin:0;padding:0;}html{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";line-height:1.5;-webkit-font-smoothing:antialiased;-webkit-text-size-adjust:100%;text-rendering:optimizelegibility;}hr{border-top-width:1px;}img{border-style:solid;}textarea{resize:vertical;}button,[role="button"]{cursor:pointer;}button::-moz-focus-inner{border:0 !important;}table{border-collapse:collapse;}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit;}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit;}button,input,optgroup,select,textarea{padding:0;line-height:inherit;color:inherit;}pre,code,kbd,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle;}img,video{max-width:100%;height:auto;}html{line-height:1.5;color:#1A202C;}*,*::before,*::after{border-width:0;border-style:solid;border-color:#E2E8F0;}input:-ms-input-placeholder,textarea:-ms-input-placeholder{color:#A0AEC0;}input::-ms-input-placeholder,textarea::-ms-input-placeholder{color:#A0AEC0;}input::-webkit-input-placeholder,textarea::-webkit-input-placeholder{color:#A0AEC0;}input::-moz-placeholder,textarea::-moz-placeholder{color:#A0AEC0;}input:-ms-input-placeholder,textarea:-ms-input-placeholder{color:#A0AEC0;}input::placeholder,textarea::placeholder{color:#A0AEC0;}</style><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion-css="1ri6xud">.css-1ri6xud{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;max-width:29rem;margin-left:auto;margin-right:auto;padding:2.625rem 1.3125rem;}</style><div class="css-1ri6xud"><style data-emotion-css="j7qwjs">.css-j7qwjs{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}</style><nav class="css-j7qwjs"><style data-emotion-css="1lekzkb">.css-1lekzkb{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}</style><div class="css-1lekzkb"><style data-emotion-css="u5zpo1">.css-u5zpo1{-webkit-transition:all 0.15s ease-out;transition:all 0.15s ease-out;cursor:pointer;-webkit-text-decoration:none;text-decoration:none;outline:none;}.css-u5zpo1:hover{-webkit-text-decoration:underline;text-decoration:underline;}.css-u5zpo1:focus{box-shadow:0 0 0 3px rgba(66,153,225,0.6);}.css-u5zpo1:disabled,.css-u5zpo1:disabled:focus,.css-u5zpo1:disabled:hover,.css-u5zpo1[aria-disabled=true],.css-u5zpo1[aria-disabled=true]:focus,.css-u5zpo1[aria-disabled=true]:hover{opacity:0.4;cursor:not-allowed;-webkit-text-decoration:none;text-decoration:none;}</style><a class="css-u5zpo1" href="/"><style data-emotion-css="70qvj9">.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="css-70qvj9"><style data-emotion-css="yx2sjr">.css-yx2sjr{font-size:calc(4rem / 2.5);line-height:4rem;vertical-align:top;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;border-radius:9999px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:relative;width:4rem;height:4rem;background-color:#17121e;color:#fff;}</style><div class="css-yx2sjr"><style data-emotion-css="opu6c4">.css-opu6c4{text-align:center;text-transform:uppercase;font-weight:500;width:4rem;height:4rem;}</style><div aria-label="Waqas Ali" class="css-opu6c4">WA</div></div><style data-emotion-css="19jxtcz">.css-19jxtcz{font-size:1.875rem;line-height:1.25;font-weight:700;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";margin-left:0.75rem;text-align:center;}@media screen and (min-width:48em){.css-19jxtcz{font-size:2.25rem;}}</style><h2 class="css-19jxtcz">Waqas Ali</h2></div></a><style data-emotion-css="1xqctih">.css-1xqctih{border-radius:0.25rem;font-weight:600;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:all 250ms;transition:all 250ms;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;white-space:nowrap;vertical-align:middle;line-height:1.2;outline:none;height:1.5rem;min-width:1.5rem;font-size:0.75rem;padding-left:0.5rem;padding-right:0.5rem;border:1px solid;border-color:#E2E8F0;color:inherit;padding:0;}.css-1xqctih:hover{background-color:#EDF2F7;}.css-1xqctih:focus{box-shadow:0 0 0 3px rgba(66,153,225,0.6);}.css-1xqctih:active,.css-1xqctih[data-active=true]{background-color:#E2E8F0;}.css-1xqctih:disabled,.css-1xqctih:disabled:focus,.css-1xqctih:disabled:hover,.css-1xqctih[aria-disabled=true],.css-1xqctih[aria-disabled=true]:focus,.css-1xqctih[aria-disabled=true]:hover{opacity:0.4;cursor:not-allowed;box-shadow:none;}</style><button type="button" aria-label="Dark Mode" class="css-1xqctih"><style data-emotion-css="1im46kq">.css-1im46kq{width:1em;height:1em;color:currentColor;display:inline-block;vertical-align:middle;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-backface-visibility:hidden;backface-visibility:hidden;}.css-1im46kq:not(:root){overflow:hidden;}</style><svg viewBox="0 0 24 24" focusable="false" role="presentation" aria-hidden="true" class="css-1im46kq"><path fill="currentColor" d="M21.4,13.7C20.6,13.9,19.8,14,19,14c-5,0-9-4-9-9c0-0.8,0.1-1.6,0.3-2.4c0.1-0.3,0-0.7-0.3-1 c-0.3-0.3-0.6-0.4-1-0.3C4.3,2.7,1,7.1,1,12c0,6.1,4.9,11,11,11c4.9,0,9.3-3.3,10.6-8.1c0.1-0.3,0-0.7-0.3-1 C22.1,13.7,21.7,13.6,21.4,13.7z"></path></svg></button></div><style data-emotion-css="3d4mnd">.css-3d4mnd{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:0.75rem;margin-left:0.5rem;}</style><div class="css-3d4mnd"><a class="css-u5zpo1" href="/"><style data-emotion-css="3h7tea">.css-3h7tea{width:15px;height:15px;color:#805ad5;}</style><svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.2" baseProfile="tiny" viewBox="0 0 24 24" class="css-3h7tea" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M22.262 10.468c-3.39-2.854-9.546-8.171-9.607-8.225l-.655-.563-.652.563c-.062.053-6.221 5.368-9.66 8.248-.438.394-.688.945-.688 1.509 0 1.104.896 2 2 2h1v6c0 1.104.896 2 2 2h12c1.104 0 2-.896 2-2v-6h1c1.104 0 2-.896 2-2 0-.598-.275-1.161-.738-1.532zm-8.262 9.532h-4v-5h4v5zm4-8l.002 8h-3.002v-6h-6v6h-3v-8h-3.001c2.765-2.312 7.315-6.227 9.001-7.68 1.686 1.453 6.234 5.367 9 7.681l-3-.001z"></path></svg></a><style data-emotion-css="kmpj6m">.css-kmpj6m{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";margin-left:0.5rem;margin-right:0.5rem;}</style><p class="css-kmpj6m">|</p><style data-emotion-css="n09zkg">.css-n09zkg{-webkit-transition:all 0.15s ease-out;transition:all 0.15s ease-out;cursor:pointer;-webkit-text-decoration:none;text-decoration:none;outline:none;margin-right:0.5rem;}.css-n09zkg:hover{-webkit-text-decoration:underline;text-decoration:underline;}.css-n09zkg:focus{box-shadow:0 0 0 3px rgba(66,153,225,0.6);}.css-n09zkg:disabled,.css-n09zkg:disabled:focus,.css-n09zkg:disabled:hover,.css-n09zkg[aria-disabled=true],.css-n09zkg[aria-disabled=true]:focus,.css-n09zkg[aria-disabled=true]:hover{opacity:0.4;cursor:not-allowed;-webkit-text-decoration:none;text-decoration:none;}</style><a href="/assets/docs/resume.pdf" class="css-n09zkg">Resume</a><style data-emotion-css="ql15kp">.css-ql15kp{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-right:0.5rem;}</style><div class="css-ql15kp"><a class="css-u5zpo1" href="/achievements">Awards</a></div><div class="css-ql15kp"><a class="css-u5zpo1" href="/work">Projects</a></div><div class="css-ql15kp"><a class="css-u5zpo1" href="/posts">Posts</a></div></div></nav><style data-emotion-css="1yeznxc">.css-1yeznxc{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-flex:1;-ms-flex:1;flex:1;margin-top:1rem;margin-bottom:1rem;}</style><main class="css-1yeznxc"><style data-emotion-css="p5x3r9">.css-p5x3r9{font-size:1.875rem;line-height:1.25;font-weight:700;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";}@media screen and (min-width:48em){.css-p5x3r9{font-size:2.25rem;}}</style><h2 class="css-p5x3r9">How to test in Haskell using comments?</h2><style data-emotion-css="fzcsno">.css-fzcsno{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";}</style><p class="css-fzcsno">March 12, 2020</p><style data-emotion-css="1fic0ux">.css-1fic0ux{border:0;opacity:0.6;border-bottom:0.0625rem solid;width:auto;margin-top:0.5rem;margin-bottom:0.5rem;border-color:inherit;}</style><hr class="css-1fic0ux"/><style data-emotion-css="bi78j0">.css-bi78j0{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";margin-bottom:0.5rem;}</style><p class="css-bi78j0">If you want to easily test your functions in Haskell, you can do so by writing inputs and their expected responses right above your functions as comments. All you need is <style data-emotion-css="1efsgfm">.css-1efsgfm{-webkit-transition:all 0.15s ease-out;transition:all 0.15s ease-out;cursor:pointer;-webkit-text-decoration:none;text-decoration:none;outline:none;color:#805ad5;}.css-1efsgfm:hover{-webkit-text-decoration:underline;text-decoration:underline;}.css-1efsgfm:focus{box-shadow:0 0 0 3px rgba(66,153,225,0.6);}.css-1efsgfm:disabled,.css-1efsgfm:disabled:focus,.css-1efsgfm:disabled:hover,.css-1efsgfm[aria-disabled=true],.css-1efsgfm[aria-disabled=true]:focus,.css-1efsgfm[aria-disabled=true]:hover{opacity:0.4;cursor:not-allowed;-webkit-text-decoration:none;text-decoration:none;}</style><a target="_blank" rel="noopener noreferrer" href="https://github.com/sol/doctest" class="css-1efsgfm">doctest</a>.</p><p class="css-bi78j0">This is how:</p><style data-emotion-css="9ig3kb">.css-9ig3kb{line-height:1.25;font-weight:700;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";margin-top:1rem;margin-bottom:1rem;}</style><h3 class="css-9ig3kb">1. Setup Project</h3><p class="css-bi78j0">Let&#x27;s setup a basic project first.</p><style data-emotion-css="1ovv4n2">.css-1ovv4n2{margin-top:0.5rem;margin-bottom:0.5rem;padding-left:2rem;}</style><ol class="css-1ovv4n2"><li class="css-0"><p class="css-bi78j0">Install <a target="_blank" rel="noopener noreferrer" href="https://docs.haskellstack.org/en/stable/README/#how-to-install" class="css-1efsgfm">Haskell Stack</a> if you don&#x27;t have it already.</p></li><li class="css-0"><p class="css-bi78j0">Setup project and install required dependencies.</p></li></ol><pre class="css-fzcsno"><style data-emotion-css="4etvtm">.css-4etvtm{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-top:0.5rem;margin-bottom:0.5rem;}</style><pre class="css-4etvtm"><style data-emotion-css="14duyzz">.css-14duyzz{display:inline-block;font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:0.875rem;padding-left:0.2em;padding-right:0.2em;border-radius:0.125rem;background-color:#EDF2F7;color:#1A202C;padding:0.5rem;white-space:pre-wrap;}</style><code class="css-14duyzz">stack new my-project
cd my-project
stack setup
</code></pre></pre><ol start="3" class="css-1ovv4n2"><li class="css-0">Build and execute project. If you see <style data-emotion-css="8xybl4">.css-8xybl4{display:inline-block;font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:0.875rem;padding-left:0.2em;padding-right:0.2em;border-radius:0.125rem;background-color:#EDF2F7;color:#1A202C;}</style><code class="css-8xybl4">someFunc</code> in the output you are good to go.</li></ol><pre class="css-fzcsno"><pre class="css-4etvtm"><code class="css-14duyzz">stack build
stack exec my-project-exe
</code></pre></pre><p class="css-bi78j0"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px">
      <a target="_blank" rel="noopener" class="gatsby-resp-image-link css-1efsgfm" href="/static/80920d9689171020443b940f83684a2b/89557/stack_build_exec.png" style="display:block">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:47.972972972972975%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABU0lEQVQoz22S6Y7CMAyE8x7c9320hdIKaCtUurz/C83qs+SIlfbHyImTjGfshMfjIUee5yqKIq53u51Op5OOx6MOh4PO57NWq5WWy6Vms5mGw6FGo1GMINxuN4Esy4xgvV4b2eVyiQVYE+/3u63TNDVyChEpliSJNpuNwuv1MkVO/H0RcBFAQp41qrfbrREgANXE8XisUNe1qqrS8/k0QlRiCRuDweCPLQd7Hk8mE4sOzgJkTdOoLEsjRAkVp9OpgYsQf8OL/Zc3wrZto0II9/t9tIo1SL3pPOz3++r1ehHsAWeB/mEb+HDoEaT0kDXE5NmTp18Uoj1EHNHP+Xyu0HU/+nw+er/fptQjyruus+jKIYSYSV+vV5s8eYgZGMShaWpVdRX/Il8D8GUAD1Dhqvh/3gK3+T2wULWF8jJTkqRmj+rIpxoWmLgD0sViYWBg/w3oFyByMAgKGMqYAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img alt="Output after running `stack build` and `stack exec my-project-exe`" class="gatsby-resp-image-image css-0" title="Output after running `stack build` and `stack exec my-project-exe`" srcSet="/static/80920d9689171020443b940f83684a2b/12f09/stack_build_exec.png 148w,/static/80920d9689171020443b940f83684a2b/e4a3f/stack_build_exec.png 295w,/static/80920d9689171020443b940f83684a2b/fcda8/stack_build_exec.png 590w,/static/80920d9689171020443b940f83684a2b/efc66/stack_build_exec.png 885w,/static/80920d9689171020443b940f83684a2b/c83ae/stack_build_exec.png 1180w,/static/80920d9689171020443b940f83684a2b/89557/stack_build_exec.png 1928w" sizes="(max-width: 590px) 100vw, 590px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span></p><h3 class="css-9ig3kb">2. Write a function</h3><p class="css-bi78j0">Let&#x27;s write a simple function so we can test it.</p><ol class="css-1ovv4n2"><li class="css-0">Create a file <code class="css-8xybl4">Math.hs</code> in <code class="css-8xybl4">src</code> with a <code class="css-8xybl4">square</code> function:</li></ol><pre class="css-fzcsno"><pre class="css-4etvtm"><code class="css-14duyzz">module Math where

square :: Int -&gt; Int
square x = x * x
</code></pre></pre><ol start="2" class="css-1ovv4n2"><li class="css-0"><p class="css-bi78j0">Manually test the function in <a target="_blank" rel="noopener noreferrer" href="https://wiki.haskell.org/GHC/GHCi" class="css-1efsgfm">GHCi</a>. Load up the interactive environment using <code class="css-8xybl4">stack ghci</code>.</p></li><li class="css-0"><p class="css-bi78j0">Try out the function to see everything is working as expected: <code class="css-8xybl4">Math.square 3</code> should output <code class="css-8xybl4">9</code>.</p></li></ol><p class="css-bi78j0"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px">
      <a target="_blank" rel="noopener" class="gatsby-resp-image-link css-1efsgfm" href="/static/6d8ec9b44c5b5e0f3ae2f30834228e45/14747/stack_ghci.png" style="display:block">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:29.72972972972973%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA0klEQVQY05WQWaqFMBBEsxAVFedZnOcB3P+S+lIFCe/3fRy6tZOTStR5nnIch6Du+y7btsmyLKxN00hd19K2rallWUocx8TzPIPrukRBdN83he/7knVdKQNFUVAC0Od5zhqGoSGKIkmShL2aponC67pkHEfp+5798zxMDjnSgaqqKERN09TIkNayLEIhBN/3UWbbNjfN8yyY4eo4CN8AzzEMA/uu69hjne/73KuwWC9ADxlO1afrBLgSUoG/c/zHPAgCcRxHFARZlhH9uDr+f0HCHzmKtmW02PjrAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img alt="Testing our square function" class="gatsby-resp-image-image css-0" title="Testing our square function" srcSet="/static/6d8ec9b44c5b5e0f3ae2f30834228e45/12f09/stack_ghci.png 148w,/static/6d8ec9b44c5b5e0f3ae2f30834228e45/e4a3f/stack_ghci.png 295w,/static/6d8ec9b44c5b5e0f3ae2f30834228e45/fcda8/stack_ghci.png 590w,/static/6d8ec9b44c5b5e0f3ae2f30834228e45/efc66/stack_ghci.png 885w,/static/6d8ec9b44c5b5e0f3ae2f30834228e45/c83ae/stack_ghci.png 1180w,/static/6d8ec9b44c5b5e0f3ae2f30834228e45/14747/stack_ghci.png 1914w" sizes="(max-width: 590px) 100vw, 590px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span></p><h3 class="css-9ig3kb">3. Write tests</h3><p class="css-bi78j0">Now let&#x27;s get to the actual testing. All we need to do to is write comments.</p><ol class="css-1ovv4n2"><li class="css-0">Just above your function definition, write your set of inputs and their expected outputs. This is how my <code class="css-8xybl4">Math.hs</code> looks like:</li></ol><pre class="css-fzcsno"><pre class="css-4etvtm"><code class="css-14duyzz">module Math where

-- | Square numbers
--
-- Examples:
--
-- &gt;&gt;&gt; square 3
-- 9
--
-- &gt;&gt;&gt; square (-1)
-- 1
square :: Int -&gt; Int
square x = x * x
</code></pre></pre><ol start="2" class="css-1ovv4n2"><li class="css-0">If you try running <code class="css-8xybl4">stack test</code> you will notice these tests don&#x27;t run. That&#x27;s because we haven&#x27;t set up <code class="css-8xybl4">doctest</code> yet.</li></ol><h3 class="css-9ig3kb">4. Configure Project for doctest</h3><ol class="css-1ovv4n2"><li class="css-0">First, let&#x27;s add <code class="css-8xybl4">doctest</code> to our project. Go to the end of <code class="css-8xybl4">package.yaml</code> and add it as dependency of <code class="css-8xybl4">my-project-test</code>. This is how my <code class="css-8xybl4">package.yaml</code> looks like:</li></ol><pre class="css-fzcsno"><pre class="css-4etvtm"><code class="css-14duyzz">name:                my-project
version:             0.1.0.0
github:              &quot;githubuser/my-project&quot;
license:             BSD3
author:              &quot;Author name here&quot;
maintainer:          &quot;example@example.com&quot;
copyright:           &quot;2020 Author name here&quot;

extra-source-files:
- README.md
- ChangeLog.md

# Metadata used when publishing your package
# synopsis:            Short description of your package
# category:            Web

# To avoid duplicated efforts in documentation and dealing with the
# complications of embedding Haddock markup inside cabal files, it is
# common to point users to the README.md file.
description:         Please see the README on GitHub at &lt;https://github.com/githubuser/my-project#readme&gt;

dependencies:
- base &gt;= 4.7 &amp;&amp; &lt; 5

library:
  source-dirs: src

executables:
  my-project-exe:
    main:                Main.hs
    source-dirs:         app
    ghc-options:
    - -threaded
    - -rtsopts
    - -with-rtsopts=-N
    dependencies:
    - my-project

tests:
  my-project-test:
    main:                Spec.hs
    source-dirs:         test
    ghc-options:
    - -threaded
    - -rtsopts
    - -with-rtsopts=-N
    dependencies:
    - my-project
    - doctest
</code></pre></pre><ol start="2" class="css-1ovv4n2"><li class="css-0">To install the dependency, run <code class="css-8xybl4">stack test</code>. If the installation goes well, you should see the following message <code class="css-8xybl4">Test suite not yet implemented</code>.</li></ol><p class="css-bi78j0"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px">
      <a target="_blank" rel="noopener" class="gatsby-resp-image-link css-1efsgfm" href="/static/784fa395e4382021d943de5a9ef95aad/17009/stack_test_1.png" style="display:block">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:45.27027027027027%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABIUlEQVQoz42SW46CUBBEWQcKAQF5iWB8ACry0v0vqSenk0tmJo6ZjwrdgXtuVTfWMAzSNI2kaSrX61Xu97scDgcpy1J83xfHccR1XdX3+i9ZQKZpkr7v5XK5KGi/30sYhrJer98e+gS26roWXI7jKLfbTeh3u50kSaLPLMvUKXBkYDzfgReHAHH5fD4VjNPz+SzH41HB2+1W4jiWIAg+R2Z+j8dDIcCJDYCZFkUheZ4rxPM8FYdWq5XYtr2IHpHAAoaztm3V5TzPCj+dTgrnQsaAqHHN0nCOqLmUuZPAAkJkQMyS+vV6aQ246zoFV1Wlh4zogZGCNKRSIC9oNpuNfkDPBywjiqJl+CaW0e+4PyLjxCyAZQDkt2ERzO0//59ZyhcqIQwq7UsBkwAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <img alt="Test suite not implemented" class="gatsby-resp-image-image css-0" title="Test suite not implemented" srcSet="/static/784fa395e4382021d943de5a9ef95aad/12f09/stack_test_1.png 148w,/static/784fa395e4382021d943de5a9ef95aad/e4a3f/stack_test_1.png 295w,/static/784fa395e4382021d943de5a9ef95aad/fcda8/stack_test_1.png 590w,/static/784fa395e4382021d943de5a9ef95aad/efc66/stack_test_1.png 885w,/static/784fa395e4382021d943de5a9ef95aad/c83ae/stack_test_1.png 1180w,/static/784fa395e4382021d943de5a9ef95aad/17009/stack_test_1.png 1932w" sizes="(max-width: 590px) 100vw, 590px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span></p><p class="css-bi78j0">If you go to the actual test file in <code class="css-8xybl4">test/Spec.hs</code> you can see that there indeed are no tests. We need to somehow tell stack to look for tests in our <code class="css-8xybl4">src</code> files instead.</p><ol start="3" class="css-1ovv4n2"><li class="css-0">To do that, clear the contents of <code class="css-8xybl4">test/Spec.hs</code> file and replace it with this:</li></ol><pre class="css-fzcsno"><pre class="css-4etvtm"><code class="css-14duyzz">import Test.DocTest

main = doctest [&quot;-isrc&quot;, &quot;src/Math.hs&quot;]
</code></pre></pre><ol start="4" class="css-1ovv4n2"><li class="css-0">Now, if you run <code class="css-8xybl4">stack test</code> it will run the 2 tests we wrote earlier. That&#x27;s it, we are done!</li></ol><p class="css-bi78j0"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px">
      <a target="_blank" rel="noopener" class="gatsby-resp-image-link css-1efsgfm" href="/static/c77f354285d572b81c3089dc3adde1ee/093ec/stack_test_2.png" style="display:block">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:59.45945945945946%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABcElEQVQoz4WT2a6CYAyE/+cQ9w0UxJ3FjcWIvv8L9eRrUoIX5lxMWiBOZ6bVPR4PAUVRyP1+l+v1KrfbTbHf72W73Wrd7XZyOBwkiiLxfV8xHo+/MBqNxEEGUVmWSgLh8XiU1WolQRBoXa/X2ht4B4x4sVjIcrmUyWQi7nK5qDqIz+ezqojjWD/2ej2F53nS7/d/YjAYtNWlaapkz+dTsixTayhiqqmcTqftD8BwOPwJl+e52oUQ69jGsmVGfhAzAMxms/8JzTL2eYYIQojpUYxKyIjCLHYtG5QQZVVVtTmyWbYJNpuNhGH41bMAlkFF9Xw+VzDU1XUtn89H0TSNvF4v7YmAb+/3Wx2gPkmSFggB9CwRRwx0lpPd2ul0UptM57awSCWf7lKo3B0gCtTp2bBZNs0kegipBpSxKIsF1Txb7jacCLCtGRqp3aENwAJ5YonKN/u3WM5k2L1TxzRTYbbZLtPsqO3Au4fePfju2fwBrhhsP4YummAAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img alt="Tests pass successfully" class="gatsby-resp-image-image css-0" title="Tests pass successfully" srcSet="/static/c77f354285d572b81c3089dc3adde1ee/12f09/stack_test_2.png 148w,/static/c77f354285d572b81c3089dc3adde1ee/e4a3f/stack_test_2.png 295w,/static/c77f354285d572b81c3089dc3adde1ee/fcda8/stack_test_2.png 590w,/static/c77f354285d572b81c3089dc3adde1ee/efc66/stack_test_2.png 885w,/static/c77f354285d572b81c3089dc3adde1ee/c83ae/stack_test_2.png 1180w,/static/c77f354285d572b81c3089dc3adde1ee/093ec/stack_test_2.png 1930w" sizes="(max-width: 590px) 100vw, 590px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span></p><p class="css-bi78j0">When you add more modules, simply add them to this list <code class="css-8xybl4">[&quot;-isrc&quot;, &quot;src/Math.hs&quot;]</code> in <code class="css-8xybl4">test/Spec.hs</code> to make <code class="css-8xybl4">doctest</code> look for tests in them.</p><h3 class="css-9ig3kb">Note</h3><p class="css-bi78j0">This was my setup while writing this:</p><ul class="css-1ovv4n2"><li class="css-0">MacOS <code class="css-8xybl4">10.15.3</code></li><li class="css-0">Haskell Stack <code class="css-8xybl4">2.1.3</code></li></ul></main><style data-emotion-css="1e83m8u">.css-1e83m8u{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-top:1px;}</style><footer class="css-1e83m8u"><style data-emotion-css="snuamv">.css-snuamv{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-size:0.75rem;}</style><p class="css-snuamv">#<!-- -->7f88d</p><style data-emotion-css="1re51h6">.css-1re51h6{border:0;opacity:0.6;border-left:0.0625rem solid;height:auto;margin-left:0.5rem;margin-right:0.5rem;border-color:inherit;}</style><hr aria-orientation="vertical" class="css-1re51h6"/><p class="css-snuamv">Last Updated: <!-- -->15 July 2021</p><hr aria-orientation="vertical" class="css-1re51h6"/><p class="css-snuamv">© <!-- -->2021</p></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/posts/how-to-test-in-haskell-using-comments";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-f0e38940ca567b9e30cc.js"],"app":["/app-2e5524648fbfd06f08c6.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-010f768050ff952f305e.js"],"component---src-pages-achievements-tsx":["/component---src-pages-achievements-tsx-4adc8b75829e1304ab9c.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-2c7e3177d7e35f8615c4.js"],"component---src-pages-posts-tsx":["/component---src-pages-posts-tsx-45a30721944ef954b0d6.js"],"component---src-pages-work-tsx":["/component---src-pages-work-tsx-b727c091df85e0812e2d.js"],"component---src-templates-post-template-tsx":["/component---src-templates-post-template-tsx-cf8df558f21563ec3dd7.js"],"component---src-templates-project-template-tsx":["/component---src-templates-project-template-tsx-09eb0f5f8016fe5202bb.js"]};/*]]>*/</script><script src="/polyfill-f0e38940ca567b9e30cc.js" nomodule=""></script><script src="/component---src-templates-post-template-tsx-cf8df558f21563ec3dd7.js" async=""></script><script src="/commons-6080c2217ff257223705.js" async=""></script><script src="/de71a805-2216a525fc2e81be2f39.js" async=""></script><script src="/app-2e5524648fbfd06f08c6.js" async=""></script><script src="/framework-ba1910d8232ea15ebfa3.js" async=""></script><script src="/webpack-runtime-922b5bbfa7dce857329c.js" async=""></script></body></html>